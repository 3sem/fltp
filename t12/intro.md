А почему бы не разобрать, а потом обойти дерево, и посчитать?

2 мотивации:

1) Экономия памяти -- как минимум, мы можем не хранить дерево разбора памяти

2) Актуальная проблема:

      есть логика выражений в которой мы что-то делаем с атрибутами; если мы запишем дерево, а потом сделаем visitor по дереву, нам снова придется описать всю логику работы внутри обходчика еще раз -- получается дублирование функциональности
      
      А СУТ позволяет логику и синтаксис описать в одном месте.
      
      
      
